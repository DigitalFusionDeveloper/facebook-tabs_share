<nav>
  <h4>
    <%= link_to raw('New Job &rarr;'), url_for(:action => :new) %>
  </h4>
</nav>
<br />

<table class='table table-bordered table-striped'>
  <tr style='text-align:left'>
    <th style='padding:0.5em'>Id</th>
    <th style='padding:0.5em'>Object</th>
    <th style='padding:0.5em'>Message</th>
    <th style='padding:0.5em'>Args</th>
    <th style='padding:0.5em'>Status</th>
    <th style='padding:0.5em'>Failures</th>
    <th style='padding:0.5em'>UpdatedAt</th>
  </tr>

  <% @jobs.each do |job| %>
    <tr>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= link_to job.id, url_for(:action => :show, :id => job.id) %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= job.object %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= job.message %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= job.args.inspect %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= job.status %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= Array(job.failures).size %>
      </td>
      <td style='padding:0.5em 1em;vertical-align:top;'>
        <%= time_ago_in_words job.updated_at %> ago
      </td>
    </tr>
  <% end %>
</table>

<br />
<small>
<%= paginate @jobs %>
</small>
